<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Jogo de Associação - História</title>
    <style>
        * {
            box-sizing: border-box;
            touch-action: manipulation;
        }
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f8ff;
            margin: 0;
            padding: 10px;
            text-align: center;
            -webkit-user-select: none;
            user-select: none;
        }
        #year-selection, #game-screen, #result-screen {
            min-height: calc(100vh - 40px);
            box-sizing: border-box;
            padding: 20px;
            margin: 15px auto;
            max-width: 100%;
            width: 100%;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        #game-screen, #result-screen, #start-screen {
            display: none;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px;
            width: 80%;
            max-width: 300px;
        }
        button.year-btn {
            background-color: #2196F3;
        }
        button:hover, button:active {
            opacity: 0.9;
        }
        .drag-area {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 15px 0;
            min-height: 100px;
            border: 2px dashed #ccc;
            padding: 10px;
            border-radius: 5px;
            gap: 8px;
        }
        .drop-area {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 15px 0;
            gap: 8px;
        }
        .drag-item, .drop-slot {
            width: calc(10% - 16px);
            min-width: 150px;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #e9f5ff;
            border: 2px solid #aad4ff;
            border-radius: 5px;
            font-size: 14px;
            text-align: center;
            padding: 5px;
            transition: transform 0.2s;
        }
        .drag-item:active {
            transform: scale(0.95);
        }
        .drop-slot {
            width: calc(40% - 16px);
            min-width: 200px;
            height: 200px;
        }
        .drop-slot.highlight {
            background-color: #ffe0b3;
        }
        .domino-pair {
            display: flex;
            width: 100%;
            justify-content: center;
            gap: 8px;
            margin: 5px 0;
        }
        .drag-item img {
            max-width: 90%;
            max-height: 90%;
        }
        .lives {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 10px;
        }
        .life {
            width: 30px;
            height: 30px;
            background-color: #ff6b6b;
            border-radius: 50%;
        }
        .life.lost {
            background-color: #ccc;
        }
        h1 {
            font-size: 24px;
        }
        h2 {
            font-size: 20px;
        }
        @media (min-width: 600px) {
            .drop-slot {
                width: calc(40% - 16px);
                height: 180px;
            }
        }
    </style>
</head>
<body>

<!-- Tela de Seleção de Ano -->
<div id="year-selection">
    <h1>JOGO DE ASSOCIAÇÃO HISTÓRICA</h1>
    <p>ESCOLHA O ANO PARA JOGAR:</p>
    <button class="year-btn" data-year="6">6º ANO</button>
    <button class="year-btn" data-year="7">7º ANO</button>
    <button class="year-btn" data-year="8">8º ANO</button>
    <button class="year-btn" data-year="9">9º ANO</button>
</div>

<!-- Tela de Instruções -->
<div id="start-screen">
    <h1>JOGO DE ASSOCIAÇÃO</h1>
    <p>COMBINE AS CARTAS. VOCÊ TEM 3 VIDAS.</p>
    <p>INSTRUÇÕES:</p>
    <p>1º Clique na carta. Clique no espaço abaixo das cartas.</p>
    <p>2º Faça o mesmo com a carta que se associa a primeira.</p>
    <p>Aqui é só um treino. Se você conseguir me mostrar o game concluído durante a aula receberá 3 pontos na média como prêmio.</p>
    <button id="start-button">Iniciar Jogo</button>
</div>

<!-- Tela do Jogo -->
<div id="game-screen">
    <h2 id="game-title">PREPARADO?</h2>
    <div id="timer" style="font-size: 18px; margin: 10px;">Tempo: 00:00</div>
    <div class="lives" id="lives-container">
        <div class="life"></div>
        <div class="life"></div>
        <div class="life"></div>
    </div>
    <div class="drag-area" id="drag-container">
        <!-- Itens para selecionar -->
    </div>
    
    <div class="drop-area" id="drop-container">
        <!-- Pares de dominó -->
    </div>
	<button id="back-button" style="background-color: #f44336; margin-top: 20px;">Voltar para Anos</button>
</div>

<!-- Tela de Resultado -->
<div id="result-screen">
    <h2 id="result-message"></h2>
    <button id="restart-button">Jogar Novamente</button>
    <button id="back-to-years">Voltar para Anos</button>
</div>

<script>
    // Dados do jogo por ano (você pode preencher isso depois)
    const gameData = {
        "6": {
            title: "6º ANO - MESOPOTÂMIA",
            pairs: [
    { id: 1, itemA: "https://content.nationalgeographic.pt/medio/import/attachment/edicoesespeciais/HISTORIA/GrandesInvencoes/Escrita/c1.jpg", itemB: "Escrita dos sumérios", typeA: "image", typeB: "text" },
    { id: 2, itemA: "Código de Hamurabi", itemB: "Lei 'olho por olho'", typeA: "text", typeB: "text" },
    { id: 3, itemA: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Tigr-euph-sv.png/250px-Tigr-euph-sv.png", itemB: "Terra entre rios", typeA: "image", typeB: "text" },
    { id: 4, itemA: "Fenícios", itemB: "Grandes navegadores", typeA: "text", typeB: "text" },
    { id: 5, itemA: "https://w7.pngwing.com/pngs/449/798/png-transparent-phoenician-alphabet-latin-alphabet-phoenician-alphabet-angle-white-english-thumbnail.png", itemB: "Primeiro alfabeto", typeA: "image", typeB: "text" },
    { id: 6, itemA: "Hebreus", itemB: "Povo do Êxodo", typeA: "text", typeB: "text" },
    { id: 7, itemA: "10 Mandamentos", itemB: "Leis hebraicas", typeA: "text", typeB: "text" },
    { id: 8, itemA: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/The_Darius_seal._Darius_stands_in_a_royal_chariot_below_Ahura_Mazda_and_shoots_arrows_at_a_rampant_lion._From_Thebes%2C_Egypt._6th-5th_century_BCE._British_Museum_%28cropped%29.jpg/1920px-thumbnail.jpg", itemB: "Selo real persa", typeA: "image", typeB: "text" },
    { id: 9, itemA: "Zigurate", itemB: "Templo em degraus", typeA: "text", typeB: "text" },
    { id: 10, itemA: "Assírios", itemB: "Guerreiros cruéis", typeA: "text", typeB: "text" },
    { id: 11, itemA: "Persia", itemB: "Império dividido em satrápias", typeA: "text", typeB: "text" },
    { id: 12, itemA: "Povo que formou o 1º império da Mesopotâmia", itemB: "Acádios", typeA: "text", typeB: "text" },
    { id: 13, itemA: "Medos e Caldeus", itemB: " Conquistam o Império Assírio", typeA: "text", typeB: "text" },
    { id: 14, itemA: "Religião monoteísta", itemB: "Judaísmo", typeA: "text", typeB: "text" },
    { id: 15, itemA: "Púrpura", itemB: "Símbolo de poder", typeA: "text", typeB: "text" }
]
        },
        "7": {
            title: "7º ANO - RENASCIMENTO, REFORMA E CONTRARREFORMA, FORMAÇÃO DOS ESTADOS NACIONAIS",
            pairs: [
    { id: 1, itemA: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Mona_Lisa%2C_by_Leonardo_da_Vinci%2C_from_C2RMF_retouched.jpg/1200px-Mona_Lisa%2C_by_Leonardo_da_Vinci%2C_from_C2RMF_retouched.jpg", 
itemB: "Mona Lisa - Obra de Leonardo da Vinci", typeA: "image", typeB: "text" },
    { id: 2, itemA: "Humanismo", 
itemB: "Valorização do ser humano e da razão", typeA: "text", typeB: "text" },
    { id: 3, itemA: "https://ichef.bbci.co.uk/ace/ws/640/cpsprodpb/12E1A/production/_109283377_hi004172659.jpg.webp", 
itemB: "Homem Vitruviano - Estudo das proporções", typeA: "image", typeB: "text" },
    { id: 4, itemA: "Mecenas", 
itemB: "Patrocinadores de artistas (como os Médici)", typeA: "text", typeB: "text" },
    { id: 5, itemA: "Venda de Indulgências e Relíquias", 
itemB:"Crítica que os reformadores faziam", typeA: "text", typeB: "text" },
    { id: 6, itemA: "Galileu Galilei", 
itemB: "Defensor do heliocentrismo", typeA: "text", typeB: "text" },
    { id: 7, itemA: "Reforma Protestante", 
itemB: "Movimento iniciado por Martinho Lutero", typeA: "text", typeB: "text" },
    { id: 8, itemA: "Fragmentada", 
itemB: "Estrutura de poder durante a Idade Média", typeA: "text", typeB: "text" },
    { id: 9, itemA: "Perspectiva linear", 
itemB: "Técnica para criar profundidade", typeA: "text", typeB: "text" },
    { id: 10, itemA: "Culto a santos e 7 sacramentos", 
itemB: "Catolicismo", typeA: "text", typeB: "text" },
    { id: 11, itemA: "Contrarreforma", 
itemB: "Movimento para conter a expansão do protestantismo", typeA: "text", typeB: "text" },
    { id: 12, itemA: "Calvinismo", 
itemB: "Teoria da predestinação", typeA: "text", typeB: "text" },
    { id: 13, itemA: "Sfumato", 
itemB: "Técnica de esfumar contornos", typeA: "text", typeB: "text" },
    { id: 14, itemA: "Peste, guerras, + cidades e comércio ", 
itemB: " Motivos que levaram a centralização política", typeA: "text", typeB: "text" },
    { id: 15, itemA: "Antropocentrismo", 
itemB: "Homem como centro do pensamento", typeA: "text", typeB: "text" },
    { id: 16, itemA: "Reconquista, expulsão dos muçulmanos", 
itemB: " Formação da Espanha", typeA: "text", typeB: "text" },
    { id: 17, itemA: "Oeste centralizado, centro fragmentado, leste arcaico", 
itemB: " O poder na Europa na Idade Moderna", typeA: "text", typeB: "text" },
    { id: 18, itemA: "Absolutismo", 
itemB: "Sistema em que o rei tem muito poder", typeA: "text", typeB: "text" }
]

        },
        "8": {
            title: "8º ANO - REVOLUÇÕES",
            pairs: [
    { id: 1, itemA: "Monarquia Absolutista", itemB: "Sistema de governo anterior a Revolução Francesa", typeA: "text", typeB: "text" },
    { id: 2, itemA: "Queda da Bastilha (14/07/1789)", itemB: "Símbolo do fim do absolutismo e início da Revolução Francesa", typeA: "text", typeB: "text" },
    { id: 3, itemA: "1º forma de governo pós 1789", itemB: "Monarquia Constitucional", typeA: "text", typeB: "text" },
    { id: 4, itemA: "Voto censitário", itemB: "Sufrágio baseado em renda", typeA: "text", typeB: "text" },
    { id: 5, itemA: "Convenção Nacional", itemB: "Governo revolucionário radical", typeA: "text", typeB: "text" },
    { id: 6, itemA: "Girondinos", itemB: "Grupo que representava a alta burguesia", typeA: "text", typeB: "text" },
    { id: 7, itemA: "Diretório", itemB: "Sistema de governo da república com 5 membros que formavam o governo", typeA: "text", typeB: "text" },
    { id: 8, itemA: "Consulado", itemB: "Golpe da alta burguesia e dos militares deu início a esse sistema de governo", typeA: "text", typeB: "text" },
    { id: 9, itemA: "Batalha de Trafalgar (1805)", itemB: "Derrota naval francesa para a Inglaterra", typeA: "text", typeB: "text" },
    { id: 10, itemA: "Bloqueio Continental (1806)", itemB: "Napoleão proíbe comércio com a Inglaterra", typeA: "text", typeB: "text" },
    { id: 11, itemA: "Bandeirantes", itemB: "Exploradores que encontraram ouro em 1690", typeA: "text", typeB: "text" },
    { id: 12, itemA: "Guerra dos Emboabas (1707-1709)", itemB: "Conflito entre paulistas e forasteiros", typeA: "text", typeB: "text" },
    { id: 13, itemA: "Fome", itemB: "Problema dos primeiros anos de mineração", typeA: "text", typeB: "text" },
    { id: 14, itemA: "Capitação (1735)", itemB: "Imposto por escravo nas minas", typeA: "text", typeB: "text" },
    { id: 15, itemA: "Derrama", itemB: "Cobrança forçada de impostos atrasados", typeA: "text", typeB: "text" },
    { id: 16, itemA: "Revolta de Vila Rica (1720)", itemB: "Contra as Casas de Fundição", typeA: "text", typeB: "text" },
    { id: 17, itemA: "Inconfidência Mineira (1789)", itemB: "Conspiração que desejava a independência de Minas Gerais", typeA: "text", typeB: "text" },
    { id: 18, itemA: "Tratado de Methuen (1703)", itemB: "Portugal dependente da Inglaterra", typeA: "text", typeB: "text" },
    { id: 19, itemA: "Marquês de Pombal", itemB: "Reformas no Brasil e em Portugal", typeA: "text", typeB: "text" },
    { id: 20, itemA: "Invasões napoleônicas em Portugal", itemB: "Motivo da vinda da corte ao Brasil", typeA: "text", typeB: "text" }
]
        },
        "9": {
            title: "9º ANO - PÓS PRIMEIRA GUERRA MUNDIAL E PROCLAMAÇÃO DA REPÚBLICA",
            pairs: [
    { id: 1, itemA: "Liberalismo econômico", itemB: "Doutrina que defendia a autorregulação do mercado", typeA: "text", typeB: "text" },
    { id: 2, itemA: "New Deal", itemB: "Programa de recuperação econômica implementado nos EUA", typeA: "text", typeB: "text" },
    { id: 3, itemA: "EUA", itemB: "Principal potência econômica mundial no pós-guerra", typeA: "text", typeB: "text" },
    { id: 4, itemA: "Queda da Bolsa de Nova York (1929)", itemB: "Evento que marcou o início da Grande Depressão", typeA: "text", typeB: "text" },
    { id: 5, itemA: "Adolf Hitler", itemB: "Líder do Partido Nazista alemão", typeA: "text", typeB: "text" },
    { id: 6, itemA: "Fascismo", itemB: "Ideologia autoritária, ultranacionalista, antiliberal e anticomunista", typeA: "text", typeB: "text" },
    { id: 7, itemA: "American way of life", itemB: "Estilo de vida que associava consumo à felicidade e prosperidade", typeA: "text", typeB: "text" },
    { id: 8, itemA: "Marcha sobre Roma (1922)", itemB: "Evento que consolidou o poder fascista na Itália", typeA: "text", typeB: "text" },
    { id: 9, itemA: "Incêndio do Reichstag (1933)", itemB: "Evento que abriu caminho para a ditadura nazista", typeA: "text", typeB: "text" },
    { id: 10, itemA: "Noite dos Cristais (1938)", itemB: "Pogrom contra judeus na Alemanha nazista", typeA: "text", typeB: "text" },    { id: 11, itemA: "Manifesto Republicano (1870)", itemB: "Documento fundador do Partido Republicano no Brasil", typeA: "text", typeB: "text" },
    { id: 12, itemA: "Federalismo", itemB: "Principal bandeira dos republicanos paulistas", typeA: "text", typeB: "text" },
    { id: 13, itemA: "Keynesianismo", itemB: "Defende a intervenção do Estado na economia, especialmente em momentos de crise", typeA: "text", typeB: "text" },
    { id: 14, itemA: "Reforma pós-Guerra do Paraguai ", itemB: "Processo de modernização das forças armadas que criou uma nova geração de oficiais com aspirações políticas e críticas ao regime monárquico", typeA: "text", typeB: "text" },
    { id: 15, itemA: "O Beneplácito Régio em questão ", itemB: "Mecanismo que exigia aprovação imperial para documentos papais, visto como interferência indevida", typeA: "text", typeB: "text" },
    { id: 16, itemA: "Lenta e sem mudar as estruturas sociais", itemB: "Posição do império sobre a abolição da escravidão", typeA: "text", typeB: "text" },
    { id: 17, itemA: "Conflito com a oligarquia cafeeira ", itemB: "Problema criado por causa da administração centralista de Deodoro da Fonseca", typeA: "text", typeB: "text" },
    { id: 18, itemA: "Encilhamento", itemB: "Crise econômica causada pela emissão descontrolada de moeda e fraudes no mercado de capitais", typeA: "text", typeB: "text" },
    { id: 19, itemA: "Revolta da Armada (1891)", itemB: "Setor monarquista ameaça bombardear o Rio de Janeiro devido ao fechamento do congresso", typeA: "text", typeB: "text" },
]
 },       
    };

    // Elementos do DOM
    const yearSelection = document.getElementById('year-selection');
    const startScreen = document.getElementById('start-screen');
    const gameScreen = document.getElementById('game-screen');
    const resultScreen = document.getElementById('result-screen');
    const resultMessage = document.getElementById('result-message');
    const gameTitle = document.getElementById('game-title');
    const dragContainer = document.getElementById('drag-container');
    const dropContainer = document.getElementById('drop-container');
    const livesContainer = document.getElementById('lives-container');
    const startButton = document.getElementById('start-button');
    const restartButton = document.getElementById('restart-button');
    const backToYearsButton = document.getElementById('back-to-years');
    const yearButtons = document.querySelectorAll('.year-btn');
const backButton = document.getElementById('back-button');

    // Variáveis do jogo
    let selectedItem = null;
    let dropSlots = [];
    let lives = 3;
    let correctPairs = 0;
    let currentYear = "";
    let currentPairs = [];
    let startTime;
    let timerInterval;
    let elapsedTime = 0;


    // Selecionar ano
    yearButtons.forEach(button => {
        button.addEventListener('click', () => {
            currentYear = button.dataset.year;
            const yearData = gameData[currentYear];
            
            if (yearData) {
                currentPairs = yearData.pairs;
                gameTitle.textContent = yearData.title;
                
                yearSelection.style.display = 'none';
                startScreen.style.display = 'block';
            }
        });
    });

    // Iniciar o jogo
    startButton.addEventListener('click', () => {
        startScreen.style.display = 'none';
        gameScreen.style.display = 'block';
        resetGame();
        setupGame();
    });

    // Reiniciar o jogo
    restartButton.addEventListener('click', () => {
        resultScreen.style.display = 'none';
        gameScreen.style.display = 'block';
        resetGame();
        setupGame();
    });

    // Voltar para seleção de anos
    backToYearsButton.addEventListener('click', () => {
        resultScreen.style.display = 'none';
        yearSelection.style.display = 'block';
    });

backButton.addEventListener('click', () => {
    gameScreen.style.display = 'none';
    yearSelection.style.display = 'block';
});

// Função para iniciar o cronômetro
    function startTimer() {
    startTime = Date.now() - elapsedTime;
    timerInterval = setInterval(updateTimer, 1000);
}

// Função para atualizar o cronômetro
function updateTimer() {
    elapsedTime = Date.now() - startTime;
    const seconds = Math.floor((elapsedTime / 1000) % 60);
    const minutes = Math.floor((elapsedTime / 1000 / 60) % 60);
    document.getElementById('timer').textContent = `Tempo: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
}

// Função para parar o cronômetro
function stopTimer() {
    clearInterval(timerInterval);
}

// Função para resetar o cronômetro
function resetTimer() {
    stopTimer();
    elapsedTime = 0;
    document.getElementById('timer').textContent = 'Tempo: 00:00';
}


    function resetGame() {
        lives = 3;
        correctPairs = 0;
        updateLivesDisplay();
    }

    function updateLivesDisplay() {
        const lifeElements = document.querySelectorAll('.life');
        lifeElements.forEach((life, index) => {
            life.classList.toggle('lost', index >= lives);
        });
    }

    function loseLife() {
        lives--;
        updateLivesDisplay();
        
        if (lives <= 0) {
            endGame(false);
        }
    }

    function endGame(success) {
         stopTimer();
    
    gameScreen.style.display = 'none';
    resultScreen.style.display = 'block';
    
    if (success) {
        // Calcular o tempo decorrido formatado
        const seconds = Math.floor((elapsedTime / 1000) % 60);
        const minutes = Math.floor((elapsedTime / 1000 / 60) % 60);
        const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        
        // Mensagem com o ano e tempo
        resultMessage.textContent = `Parabéns! Você completou a tarefa do ${currentYear}º ano em ${timeString}!`;
    } else {
        resultMessage.textContent = "Tente novamente! Você errou 3 vezes.";
    }
    }

    // Configurar o jogo
    function setupGame() {
        dragContainer.innerHTML = '';
        dropContainer.innerHTML = '';
        selectedItem = null;
        dropSlots = [];


        // Criar lista com todos os itens
        let allItems = [];
        currentPairs.forEach(pair => {
            allItems.push(
                { id: pair.id * 2, content: pair.itemA, type: pair.typeA, pairId: pair.id },
                { id: pair.id * 2 + 1, content: pair.itemB, type: pair.typeB, pairId: pair.id }
            );

        });

        // Embaralhar
        allItems = shuffleArray(allItems);

        // Adicionar itens arrastáveis
        allItems.forEach(item => {
            const dragItem = document.createElement('div');
            dragItem.className = 'drag-item';
            dragItem.dataset.id = item.id;
            dragItem.dataset.pairId = item.pairId;

            if (item.type === "image") {
                const img = document.createElement('img');
                img.src = item.content;
                dragItem.appendChild(img);
            } else {
                dragItem.textContent = item.content;
            }

            dragItem.addEventListener('click', () => selectItem(dragItem));
            dragContainer.appendChild(dragItem);
        });

        // Criar slots (metade do número de pares)
        for (let i = 0; i < 4; i++) {
            const dominoPair = document.createElement('div');
            dominoPair.className = 'domino-pair';

            const dropSlot1 = document.createElement('div');
            dropSlot1.className = 'drop-slot';
            dropSlot1.dataset.pairIndex = i;

            const dropSlot2 = document.createElement('div');
            dropSlot2.className = 'drop-slot';
            dropSlot2.dataset.pairIndex = i;

            [dropSlot1, dropSlot2].forEach(slot => {
                slot.addEventListener('click', () => tryPlaceItem(slot));
                dropSlots.push(slot);
            });

            dominoPair.appendChild(dropSlot1);
            dominoPair.appendChild(dropSlot2);
            dropContainer.appendChild(dominoPair);
        }
	resetTimer();
        startTimer();
    }
    
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function selectItem(item) {
        // Desselecionar item anterior
        document.querySelectorAll('.drag-item.selected').forEach(el => {
            el.classList.remove('selected');
        });
        
        // Selecionar novo item
        selectedItem = item;
        item.classList.add('selected');
        
        // Mostrar slots disponíveis
        dropSlots.forEach(slot => {
            if (!slot.hasChildNodes()) {
                slot.classList.add('highlight');
            }
        });
    }

    function tryPlaceItem(slot) {
        if (!selectedItem || slot.hasChildNodes()) return;

        // Remover highlight
        dropSlots.forEach(s => s.classList.remove('highlight'));

        // Criar cópia do item
        const clonedItem = selectedItem.cloneNode(true);
        clonedItem.classList.remove('selected');
        clonedItem.addEventListener('click', (e) => {
            e.stopPropagation();
            dragContainer.appendChild(clonedItem);
            clonedItem.addEventListener('click', () => selectItem(clonedItem));
        });

        // Colocar no slot
        slot.appendChild(clonedItem);
        
        // Remover original
        selectedItem.remove();
        selectedItem = null;

        // Verificar se completou um par
        checkPairs();
    }

    function checkPairs() {
        // Verificar todos os pares de slots
        for (let i = 0; i < dropSlots.length; i += 2) {
            const slot1 = dropSlots[i];
            const slot2 = dropSlots[i + 1];

            // Se ambos slots estão preenchidos
            if (slot1.firstChild && slot2.firstChild) {
                const item1 = slot1.firstChild;
                const item2 = slot2.firstChild;

                // Verificar se é um par correto
                if (item1.dataset.pairId === item2.dataset.pairId) {
                    // Par correto - remover após 0.5s
                    setTimeout(() => {
                        slot1.removeChild(item1);
                        slot2.removeChild(item2);
                        correctPairs++;
                        
                        // Verificar vitória
                        if (correctPairs >= currentPairs.length) {
                            endGame(true);
                        }
                    }, 500);
                } else {
                    // Par errado - perder vida após 1s
                    setTimeout(() => {
                        dragContainer.appendChild(item1);
                        dragContainer.appendChild(item2);
                        item1.addEventListener('click', () => selectItem(item1));
                        item2.addEventListener('click', () => selectItem(item2));
                        loseLife();
                    }, 1000);
                }
            }
        }
    }
</script>
</body>
</html>

